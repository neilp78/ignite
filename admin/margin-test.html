<script src="https://code.jquery.com/jquery-1.12.4.js"></script>
<script src="https://code.jquery.com/ui/1.12.1/jquery-ui.js"></script>
<link rel="stylesheet" href="theme/gds-css.css">
<script src="theme/semantic.js"></script>
<link href="theme/semantic.css" rel="stylesheet">
<style>
  .selected {
    background:yellow;
  }

  #canvas .govuk-grid-row {
    border: dashed 3px #000 !important;
    height:220px;
    width:90%;
  }
</style>
<script>

</script>
<body>
<h2>Margin</h2>
<div class="ui input">
top<input class="positionsetting" id="margin-top" type="number" value="0" min="0" max="9"/>
</div>
<div class="ui input">
Right<input class="positionsetting" id="margin-right" type="number" value="0" min="0" max="9"/>
</div>
<div class="ui input">
Bottom<input class="positionsetting" id="margin-bottom" type="number" value="0" min="0" max="9"/>
</div>
<div class="ui input">
left<input class="positionsetting" id="margin-left" type="number" value="0" min="0" max="9"/>
</div>

<h2>Padding</h2>
<div class="ui input">
top<input class="positionsetting" id="padding-top" type="number" value="0" min="0" max="9"/>
</div>
<div class="ui input">
Right<input class="positionsetting" id="padding-right" type="number" value="0" min="0" max="9"/>
</div>
<div class="ui input">
Bottom<input class="positionsetting" id="padding-bottom" type="number" value="0" min="0" max="9"/>
</div>
<div class="ui input">
left<input class="positionsetting" id="padding-left" type="number" value="0" min="0" max="9"/>
</div>

<div id="submit" class="ui button">Submit</div>

<div id="add-row" class="ui button">Add row</div>
<div id="canvas">
  <div class="blank">Target 1</div>
  <div>Target 2</div>
  <div>Target 3</div>
  <div>Target 4</div>
</div>
</body>
<script>

$('#canvas div').click(function(){
  $('#canvas div').removeClass('selected');
  $(this).addClass('selected');
  $('.positionsetting').val('0');
  if ($('.selected[class*="govuk-!-margin-top-"]').length > 0 ) {
    var martingtopclass = $(this).attr('class').split(' ')[0];
    var number = martingtopclass.substr(martingtopclass.lastIndexOf("margin-top-") + 1);
    var positionVal = number.slice(- 1);
    $('#margin-top').val(positionVal);
  }
  if ($('.selected[class*="govuk-!-margin-right-"]').length > 0 ) {
    var martingtopclass = $(this).lastIndexOf("margin-right-").split(' ')[0];
    var number = martingtopclass.substr(martingtopclass.lastIndexOf("margin-right-") + 1);
    var positionVal = number.slice(- 1);
    $('#margin-right').val(positionVal);
  }
  if ($('.selected[class*="govuk-!-margin-bottom-"]').length > 0 ) {
    var martingtopclass = $(this).attr('class').split(' ')[0];
    var number = martingtopclass.substr(martingtopclass.lastIndexOf("margin-bottom-") + 1);
    var positionVal = number.slice(- 1);
    $('#margin-bottom').val(positionVal);
  }
  if ($('.selected[class*="govuk-!-margin-left-"]').length > 0 ) {
    var martingtopclass = $(this).attr('class').split(' ')[0];
    var number = martingtopclass.substr(martingtopclass.lastIndexOf("margin-left-") + 1);
    var positionVal = number.slice(- 1);
    $('#margin-left').val(positionVal);
  }
  if ($('.selected[class*="govuk-!-padding-top-"]').length > 0 ) {
    var martingtopclass = $(this).attr('class').split(' ')[0];
    var number = martingtopclass.substr(martingtopclass.lastIndexOf("padding-top-") + 1);
    var positionVal = number.slice(- 1);
    $('#padding-top').val(positionVal);
  }
  if ($('.selected[class*="govuk-!-padding-right-"]').length > 0 ) {
    var martingtopclass = $(this).attr('class').split(' ')[0];
    var number = martingtopclass.substr(martingtopclass.lastIndexOf("padding-right-") + 1);
    var positionVal = number.slice(- 1);
    $('#padding-right').val(positionVal);
  }
  if ($('.selected[class*="govuk-!-padding-bottom-"]').length > 0 ) {
    var martingtopclass = $(this).attr('class').split(' ')[0];
    var number = martingtopclass.substr(martingtopclass.lastIndexOf("padding-bottom-") + 1);
    var positionVal = number.slice(- 1);
    $('#padding-bottom').val(positionVal);
  }
  if ($('.selected[class*="govuk-!-padding-left-"]').length > 0 ) {
    var martingtopclass = $(this).attr('class').split(' ')[0];
    var number = martingtopclass.substr(martingtopclass.lastIndexOf("padding-left-") + 1);
    var positionVal = number.slice(- 1);
    $('#padding-left').val(positionVal);
  }
});
$('#submit').click(function(){
  var margTop = $('#margin-top').val();
  if (margTop > 0) {
    $(".selected").removeClass (function (index, className) {
      return (className.match (/\bgovuk-!-margin-top-\S+/g) || []).join(' ');
    });
    $(".selected").addClass('govuk-!-margin-top-'+margTop);
  }
  var margRight = $('#margin-right').val();
  if (margRight > 0) {
    $(".selected").removeClass (function (index, className) {
      return (className.match (/\bgovuk-!-margin-right-\S+/g) || []).join(' ');
    });
    $(".selected").addClass('govuk-!-margin-right-'+margRight);
  }
  var margBottom = $('#margin-bottom').val();
  if (margBottom > 0) {
    $(".selected").removeClass (function (index, className) {
      return (className.match (/\bgovuk-!-margin-bottom-\S+/g) || []).join(' ');
    });
    $(".selected").addClass('govuk-!-margin-bottom-'+margBottom);
  }
  var margLeft = $('#margin-left').val();
  if (margLeft > 0) {
    $(".selected").removeClass (function (index, className) {
      return (className.match (/\bgovuk-!-margin-left-\S+/g) || []).join(' ');
    });
    $(".selected").addClass('govuk-!-margin-left-'+margLeft);
  }
  var padtop = $('#padding-top').val();
  if (padtop > 0) {
    $(".selected").removeClass (function (index, className) {
      return (className.match (/\bgovuk-!-padding-left-\S+/g) || []).join(' ');
    });
    $(".selected").addClass('govuk-!-padding-left-'+margLeft);
  }
  var padRight = $('#padding-right').val();
  if (padRight > 0) {
    $(".selected").removeClass (function (index, className) {
      return (className.match (/\bgovuk-!-padding-left-\S+/g) || []).join(' ');
    });
    $(".selected").addClass('govuk-!-padding-left-'+padRight);
  }
  var padBottom = $('#padding-bottom').val();
  if (padBottom > 0) {
    $(".selected").removeClass (function (index, className) {
      return (className.match (/\bgovuk-!-padding-left-\S+/g) || []).join(' ');
    });
    $(".selected").addClass('govuk-!-padding-left-'+padBottom);
  }
  var padLeft = $('#padding-left').val();
  if (padLeft > 0) {
    $(".selected").removeClass (function (index, className) {
      return (className.match (/\bgovuk-!-padding-left-\S+/g) || []).join(' ');
    });
    $(".selected").addClass('govuk-!-padding-left-'+padLeft);
  }
});
//add row
$('#add-row').click(function(){
  $('#canvas').append('<div class="govuk-grid-row"></div>');
});
$('.govuk-grid-row').on("mouseenter", function(){
//$('.govuk-grid-row').mouseenter(function(){
  alert('founf');
  $(this).append('<div class="third">Third</div>|<div class="two-thirds">Two thirds</div>|<div class="full-width">Full width</div>')
});
$('.govuk-grid-row').on('mouseleave', function(){
  $(this).remove('.third, .two-thirds, .full-width')
});

</script>
